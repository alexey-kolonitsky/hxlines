// Generated by Haxe 3.4.0 (git build development @ d2a02e8)
#include <hxcpp.h>

#ifndef INCLUDED_95f339a1d026d52c
#define INCLUDED_95f339a1d026d52c
#include "hxMath.h"
#endif
#ifndef INCLUDED_AppController
#include <AppController.h>
#endif
#ifndef INCLUDED_GameController
#include <GameController.h>
#endif
#ifndef INCLUDED_GameLoop
#include <GameLoop.h>
#endif
#ifndef INCLUDED_GameState
#include <GameState.h>
#endif
#ifndef INCLUDED_GameView
#include <GameView.h>
#endif
#ifndef INCLUDED_IGameLoopHandler
#include <IGameLoopHandler.h>
#endif
#ifndef INCLUDED_Std
#include <Std.h>
#endif
#ifndef INCLUDED_config_StaticConfig
#include <config/StaticConfig.h>
#endif
#ifndef INCLUDED_events_GameEvent
#include <events/GameEvent.h>
#endif
#ifndef INCLUDED_model_GameData
#include <model/GameData.h>
#endif
#ifndef INCLUDED_openfl_display_DisplayObject
#include <openfl/display/DisplayObject.h>
#endif
#ifndef INCLUDED_openfl_display_DisplayObjectContainer
#include <openfl/display/DisplayObjectContainer.h>
#endif
#ifndef INCLUDED_openfl_display_IBitmapDrawable
#include <openfl/display/IBitmapDrawable.h>
#endif
#ifndef INCLUDED_openfl_display_InteractiveObject
#include <openfl/display/InteractiveObject.h>
#endif
#ifndef INCLUDED_openfl_display_Sprite
#include <openfl/display/Sprite.h>
#endif
#ifndef INCLUDED_openfl_events_Event
#include <openfl/events/Event.h>
#endif
#ifndef INCLUDED_openfl_events_EventDispatcher
#include <openfl/events/EventDispatcher.h>
#endif
#ifndef INCLUDED_openfl_events_IEventDispatcher
#include <openfl/events/IEventDispatcher.h>
#endif
#ifndef INCLUDED_view_GameScreen
#include <view/GameScreen.h>
#endif

HX_DEFINE_STACK_FRAME(_hx_pos_b079fb2d32ea2339_10_new,"AppController","new",0x528e7fef,"AppController.new","AppController.hx",10,0x1ac61261)
HX_LOCAL_STACK_FRAME(_hx_pos_b079fb2d32ea2339_20_playGame,"AppController","playGame",0x3125e217,"AppController.playGame","AppController.hx",20,0x1ac61261)
HX_LOCAL_STACK_FRAME(_hx_pos_b079fb2d32ea2339_27_gotoMenu,"AppController","gotoMenu",0x85e0a2f3,"AppController.gotoMenu","AppController.hx",27,0x1ac61261)
HX_LOCAL_STACK_FRAME(_hx_pos_b079fb2d32ea2339_33_createGameSession,"AppController","createGameSession",0x096c93b7,"AppController.createGameSession","AppController.hx",33,0x1ac61261)
HX_LOCAL_STACK_FRAME(_hx_pos_b079fb2d32ea2339_42_view_menuHandler,"AppController","view_menuHandler",0xafa7fae2,"AppController.view_menuHandler","AppController.hx",42,0x1ac61261)

void AppController_obj::__construct( ::GameView view){
            	HX_GC_STACKFRAME(&_hx_pos_b079fb2d32ea2339_10_new)
HXLINE(  11)		this->_view = view;
HXLINE(  12)		this->_view->addEventListener(::events::GameEvent_obj::MENU,this->view_menuHandler_dyn(),null(),null(),null());
HXLINE(  13)		this->_gameLoop =  ::GameLoop_obj::__alloc( HX_CTX );
HXLINE(  14)		this->_gameLoop->start();
            	}

Dynamic AppController_obj::__CreateEmpty() { return new AppController_obj; }

void *AppController_obj::_hx_vtable = 0;

Dynamic AppController_obj::__Create(hx::DynamicArray inArgs)
{
	hx::ObjectPtr< AppController_obj > _hx_result = new AppController_obj();
	_hx_result->__construct(inArgs[0]);
	return _hx_result;
}

bool AppController_obj::_hx_isInstanceOf(int inClassId) {
	return inClassId==(int)0x00000001 || inClassId==(int)0x0530a0ed;
}

void AppController_obj::playGame(){
            	HX_GC_STACKFRAME(&_hx_pos_b079fb2d32ea2339_20_playGame)
HXLINE(  20)		if (hx::IsNull( this->_game )) {
HXLINE(  21)			 ::model::GameData _hx_tmp = this->createGameSession();
HXDLIN(  21)			this->_game =  ::GameController_obj::__alloc( HX_CTX ,_hx_tmp,this->_view->gameScreen);
HXLINE(  22)			this->_gameLoop->add(this->_game);
            		}
            	}


HX_DEFINE_DYNAMIC_FUNC0(AppController_obj,playGame,(void))

void AppController_obj::gotoMenu(){
            	HX_STACKFRAME(&_hx_pos_b079fb2d32ea2339_27_gotoMenu)
HXLINE(  27)		if (hx::IsNotNull( this->_game )) {
HXLINE(  28)			this->_game->set_state(::GameState_obj::PAUSE_dyn());
            		}
            	}


HX_DEFINE_DYNAMIC_FUNC0(AppController_obj,gotoMenu,(void))

 ::model::GameData AppController_obj::createGameSession(){
            	HX_GC_STACKFRAME(&_hx_pos_b079fb2d32ea2339_33_createGameSession)
HXLINE(  35)		 ::model::GameData gameData =  ::model::GameData_obj::__alloc( HX_CTX ,null());
HXLINE(  36)		gameData->sessionId = ::Std_obj::string((::Math_obj::random() * (int)1000));
HXLINE(  37)		::Array< int > _g = ::Array_obj< int >::__new(0);
HXDLIN(  37)		{
HXLINE(  37)			int _g2 = (int)0;
HXDLIN(  37)			int _g1 = ::config::StaticConfig_obj::BOARD_CELLS;
HXDLIN(  37)			while((_g2 < _g1)){
HXLINE(  37)				_g2 = (_g2 + (int)1);
HXDLIN(  37)				int i = (_g2 - (int)1);
HXDLIN(  37)				_g->push((int)0);
            			}
            		}
HXDLIN(  37)		gameData->fields = _g;
HXLINE(  38)		return gameData;
            	}


HX_DEFINE_DYNAMIC_FUNC0(AppController_obj,createGameSession,return )

void AppController_obj::view_menuHandler( ::events::GameEvent event){
            	HX_STACKFRAME(&_hx_pos_b079fb2d32ea2339_42_view_menuHandler)
HXLINE(  42)		this->gotoMenu();
            	}


HX_DEFINE_DYNAMIC_FUNC1(AppController_obj,view_menuHandler,(void))


hx::ObjectPtr< AppController_obj > AppController_obj::__new( ::GameView view) {
	hx::ObjectPtr< AppController_obj > __this = new AppController_obj();
	__this->__construct(view);
	return __this;
}

hx::ObjectPtr< AppController_obj > AppController_obj::__alloc(hx::Ctx *_hx_ctx, ::GameView view) {
	AppController_obj *__this = (AppController_obj*)(hx::Ctx::alloc(_hx_ctx, sizeof(AppController_obj), true, "AppController"));
	*(void **)__this = AppController_obj::_hx_vtable;
	__this->__construct(view);
	return __this;
}

AppController_obj::AppController_obj()
{
}

void AppController_obj::__Mark(HX_MARK_PARAMS)
{
	HX_MARK_BEGIN_CLASS(AppController);
	HX_MARK_MEMBER_NAME(_gameLoop,"_gameLoop");
	HX_MARK_MEMBER_NAME(_game,"_game");
	HX_MARK_MEMBER_NAME(_view,"_view");
	HX_MARK_END_CLASS();
}

void AppController_obj::__Visit(HX_VISIT_PARAMS)
{
	HX_VISIT_MEMBER_NAME(_gameLoop,"_gameLoop");
	HX_VISIT_MEMBER_NAME(_game,"_game");
	HX_VISIT_MEMBER_NAME(_view,"_view");
}

hx::Val AppController_obj::__Field(const ::String &inName,hx::PropertyAccess inCallProp)
{
	switch(inName.length) {
	case 5:
		if (HX_FIELD_EQ(inName,"_game") ) { return hx::Val( _game); }
		if (HX_FIELD_EQ(inName,"_view") ) { return hx::Val( _view); }
		break;
	case 8:
		if (HX_FIELD_EQ(inName,"playGame") ) { return hx::Val( playGame_dyn()); }
		if (HX_FIELD_EQ(inName,"gotoMenu") ) { return hx::Val( gotoMenu_dyn()); }
		break;
	case 9:
		if (HX_FIELD_EQ(inName,"_gameLoop") ) { return hx::Val( _gameLoop); }
		break;
	case 16:
		if (HX_FIELD_EQ(inName,"view_menuHandler") ) { return hx::Val( view_menuHandler_dyn()); }
		break;
	case 17:
		if (HX_FIELD_EQ(inName,"createGameSession") ) { return hx::Val( createGameSession_dyn()); }
	}
	return super::__Field(inName,inCallProp);
}

hx::Val AppController_obj::__SetField(const ::String &inName,const hx::Val &inValue,hx::PropertyAccess inCallProp)
{
	switch(inName.length) {
	case 5:
		if (HX_FIELD_EQ(inName,"_game") ) { _game=inValue.Cast<  ::GameController >(); return inValue; }
		if (HX_FIELD_EQ(inName,"_view") ) { _view=inValue.Cast<  ::GameView >(); return inValue; }
		break;
	case 9:
		if (HX_FIELD_EQ(inName,"_gameLoop") ) { _gameLoop=inValue.Cast<  ::GameLoop >(); return inValue; }
	}
	return super::__SetField(inName,inValue,inCallProp);
}

void AppController_obj::__GetFields(Array< ::String> &outFields)
{
	outFields->push(HX_HCSTRING("_gameLoop","\xd5","\x9e","\x73","\xfb"));
	outFields->push(HX_HCSTRING("_game","\xd1","\x0f","\x70","\xf7"));
	outFields->push(HX_HCSTRING("_view","\x44","\x4e","\x60","\x01"));
	super::__GetFields(outFields);
};

#if HXCPP_SCRIPTABLE
static hx::StorageInfo AppController_obj_sMemberStorageInfo[] = {
	{hx::fsObject /*::GameLoop*/ ,(int)offsetof(AppController_obj,_gameLoop),HX_HCSTRING("_gameLoop","\xd5","\x9e","\x73","\xfb")},
	{hx::fsObject /*::GameController*/ ,(int)offsetof(AppController_obj,_game),HX_HCSTRING("_game","\xd1","\x0f","\x70","\xf7")},
	{hx::fsObject /*::GameView*/ ,(int)offsetof(AppController_obj,_view),HX_HCSTRING("_view","\x44","\x4e","\x60","\x01")},
	{ hx::fsUnknown, 0, null()}
};
static hx::StaticInfo *AppController_obj_sStaticStorageInfo = 0;
#endif

static ::String AppController_obj_sMemberFields[] = {
	HX_HCSTRING("_gameLoop","\xd5","\x9e","\x73","\xfb"),
	HX_HCSTRING("_game","\xd1","\x0f","\x70","\xf7"),
	HX_HCSTRING("_view","\x44","\x4e","\x60","\x01"),
	HX_HCSTRING("playGame","\x06","\x58","\x72","\x34"),
	HX_HCSTRING("gotoMenu","\xe2","\x18","\x2d","\x89"),
	HX_HCSTRING("createGameSession","\xe8","\x67","\xef","\xca"),
	HX_HCSTRING("view_menuHandler","\xd1","\x77","\x52","\x23"),
	::String(null()) };

static void AppController_obj_sMarkStatics(HX_MARK_PARAMS) {
	HX_MARK_MEMBER_NAME(AppController_obj::__mClass,"__mClass");
};

#ifdef HXCPP_VISIT_ALLOCS
static void AppController_obj_sVisitStatics(HX_VISIT_PARAMS) {
	HX_VISIT_MEMBER_NAME(AppController_obj::__mClass,"__mClass");
};

#endif

hx::Class AppController_obj::__mClass;

void AppController_obj::__register()
{
	hx::Object *dummy = new AppController_obj;
	AppController_obj::_hx_vtable = *(void **)dummy;
	hx::Static(__mClass) = new hx::Class_obj();
	__mClass->mName = HX_HCSTRING("AppController","\x7d","\x5c","\x5e","\xd6");
	__mClass->mSuper = &super::__SGetClass();
	__mClass->mConstructEmpty = &__CreateEmpty;
	__mClass->mConstructArgs = &__Create;
	__mClass->mGetStaticField = &hx::Class_obj::GetNoStaticField;
	__mClass->mSetStaticField = &hx::Class_obj::SetNoStaticField;
	__mClass->mMarkFunc = AppController_obj_sMarkStatics;
	__mClass->mStatics = hx::Class_obj::dupFunctions(0 /* sStaticFields */);
	__mClass->mMembers = hx::Class_obj::dupFunctions(AppController_obj_sMemberFields);
	__mClass->mCanCast = hx::TCanCast< AppController_obj >;
#ifdef HXCPP_VISIT_ALLOCS
	__mClass->mVisitFunc = AppController_obj_sVisitStatics;
#endif
#ifdef HXCPP_SCRIPTABLE
	__mClass->mMemberStorageInfo = AppController_obj_sMemberStorageInfo;
#endif
#ifdef HXCPP_SCRIPTABLE
	__mClass->mStaticStorageInfo = AppController_obj_sStaticStorageInfo;
#endif
	hx::_hx_RegisterClass(__mClass->mName, __mClass);
}

